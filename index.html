<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>VR 360 Shooter</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
</head>
<body>

    <a-scene>
        
        <a-entity environment="preset: tron; skyColor: #111; grid: none"></a-entity>

        <a-text id="placar" value="Pontos: 0" position="-1 2.5 -3" color="white" width="10"></a-text>

        <a-camera>
            <a-cursor color="red" fuse="true" fuse-timeout="500"
                      animation__fusing="property: scale; from: 1 1 1; to: 0.1 0.1 0.1; startEvents: fusing; dur: 500"
                      animation__reset="property: scale; to: 1 1 1; startEvents: mouseleave">
            </a-cursor>
        </a-camera>

        <a-entity id="inimigos-container"></a-entity>

    </a-scene>

    <script>
        let pontos = 0;
        const textoPlacar = document.querySelector('#placar');
        const container = document.querySelector('#inimigos-container');

        // Função para criar um inimigo
        function criarInimigo() {
            const inimigo = document.createElement('a-sphere');
            
            // Posição aleatória ao redor do jogador (X e Z)
            const x = (Math.random() - 0.5) * 20; // Entre -10 e 10
            const y = Math.random() * 3 + 1;      // Altura entre 1m e 4m
            const z = (Math.random() - 0.5) * 20; // Entre -10 e 10

            // Configurações visuais do inimigo
            inimigo.setAttribute('position', `${x} ${y} ${z}`);
            inimigo.setAttribute('radius', '1');
            inimigo.setAttribute('color', '#FF0000'); // Vermelho
            
            // Animação para ele "pulsar"
            inimigo.setAttribute('animation', 'property: scale; to: 1.2 1.2 1.2; dir: alternate; loop: true; dur: 500');

            // Adiciona evento de clique (ou olhar fixo)
            inimigo.addEventListener('click', () => {
                // Toca som (opcional, simulado visualmente aqui)
                
                // Remove o inimigo da cena
                inimigo.parentNode.removeChild(inimigo);

                // Aumenta pontos
                pontos += 10;
                textoPlacar.setAttribute('value', `Pontos: ${pontos}`);

                // Cria um novo inimigo imediatamente para o jogo não acabar
                criarInimigo();
            });

            // Adiciona o inimigo na cena
            container.appendChild(inimigo);
        }

        // Começa o jogo criando 5 inimigos iniciais
        for (let i = 0; i < 5; i++) {
            criarInimigo();
        }
    </script>
</body>
</html>